schema: remotive-topology-instance:0.7
name: e2e-restbus

includes:
  - ./tester.instance.yaml
  - ./can_over_udp.instance.yaml

platform:
  includes:
    - ./topology.platform.yaml

ecus:
  ECUA:
    models:
      ecua:
        type: container
        container:
          build:
            dockerfile: ../Dockerfile
          volumes:
            - ../ecus/ecu_a.py:/app/ecu_a.py
          working_dir: /app
          command: python -m ecu_a

  ECUB:
    models:
      ecub:
        type: container
        container:
          build:
            dockerfile: ../Dockerfile
          volumes:
            - ../ecus/ecu_b.py:/app/ecu_b.py
          working_dir: /app
          command: python -m ecu_b

settings:
  remotivebroker:
    version: v1.10.3
    license_file: ../../REMOTIVEBROKER_LICENSE
