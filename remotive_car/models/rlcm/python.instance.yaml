schema: remotive-topology-instance:0.12

platform:
  includes:
    - ../../platform/remotive-car.platform.yaml

channels:
  RearLightLIN:
    type: lin
    config:
      type: remotivelabs_lin
      device_identifier: 6
      server_port: 2014 # port forward from host
      target_host: 192.168.20.100
      target_port: 2013
      auto_config_boot_server: 4001 # port forward

ecus:
  RLCM:
    channels:
      BodyCan0:
      RearLightLIN:
        config:
          type: lin
          schedule_autostart: true
          schedule_table_name: DEVMLIN01Schedule01

    models:
      rlcm:
        type: container
        container:
          build:
            args:
              - MODEL_PATH=rlcm/python
            target: model
            dockerfile: ../../Dockerfile
          command: python -m rlcm
