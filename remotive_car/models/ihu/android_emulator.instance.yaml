schema: remotive-topology-instance:0.13

ecus:
  IHU:
    models:
      ihu:
        type: container
        container:
          build:
            args:
              - MODEL_PATH=ihu/python
            target: ihu_android
            dockerfile: ../../Dockerfile
          command: python -m ihu
          environment:
            - VIRTUAL_DEVICE_TYPE=android_emulator
            - ANDROID_EMULATOR_AUTH=${ANDROID_EMULATOR_AUTH:-}
            - PROTOCOL_BUFFERS_PYTHON_IMPLEMENTATION=python
            - ANDROID_EMULATOR_NAME=${ANDROID_EMULATOR_NAME:-}
          extra_hosts:
            - "host.docker.internal:host-gateway"
